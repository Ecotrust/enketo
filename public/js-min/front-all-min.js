function d(){return function(){}}var g;$(document).ready(function(){g=new h;g.d();"undefined"==typeof console&&(console={log:d()});"undefined"==typeof window.console.debug&&(console.debug=console.log);var a;a:{a=window.location.search.substring(1).split("&");for(var b=0;b<a.length;b++){var c=a[b].split("=");if("debug"==c[0]){a=encodeURI(c[1]);break a}}a=!1}"true"!==a&&(window.console.log=d(),window.console.debug=d())});function h(){}
h.prototype.d=function(){Modernizr.borderradius&&(Modernizr.boxshadow&&Modernizr.csstransitions&&Modernizr.opacity)&&$(document).trigger("browsersupport","fancy-visuals");this.e.i();var a,b,c,e,l;a=$("#feedback-bar").css("background-color");b=$("header").css("border-top-color");$("header").css("background-color");$("body").removeClass("ui-widget-content");$("nav").addClass("ui-state-default");$("nav").css("color");c=$("nav").css("background-color");$("nav").addClass("ui-state-hover");e=$("nav").css("background-color");
$("nav").addClass("ui-state-active");l=$("nav").css("background-color");$("nav").removeClass();$("#page, #form-controls").css("background-image","none");$("#page, #component").css("color",a);$("#survey-info").css("color",b);a=$("body").addClass("ui-widget-shadow").css("background-color");$("body").css("background-color",a).removeClass("ui-widget-shadow");a=$("#page-content").addClass("ui-widget-overlay").css("background-color");$("#page-content, #overlay").css("background-color",a).removeClass("ui-widget-overlay");
$(".page a, .page a:link, .page a:visited").css("color",c).hover(function(){$(this).css("color",e)},function(){$(this).css("color",c)}).mousedown(function(){$(this).css("color",l)}).mouseup(function(){$(this).css("color",c)});$(".tabs-nohdr .ui-tabs-panel").css("background-color","#FEEEBD");this.e.reset();i(this).d();var j=this;$("#feedback-bar-close").button({icons:{primary:"ui-icon-closethick"},text:!1}).click(function(a){a.preventDefault();$("#feedback-bar p").remove();$("#feedback-bar").trigger("change")});
$("#page-close").button({icons:{primary:"ui-icon-closethick"},text:!1}).click(function(a){a.preventDefault();i(j).close()});$("#feedback-bar-close, #page-close").removeClass().addClass("custom-button ui-widget-header ui-corner-all");$('a[href^="#"]:not(nav ul li a)').click(function(a){var b=$(this).attr("href");"#"!==b&&(a.preventDefault(),$('nav li a[href="'+b+'"]').click())});$('nav ul li a[href^="#"]').click(function(a){a.preventDefault();a=$(this).attr("href").substr(1);i(j).open(a)}).hover(d(),
d());$(window).on("onlinestatuschange",function(a,b){j.updateStatus.k(b)});$(document).on("edit","form.jr",function(){j.updateStatus.l(!0)});$(document).on("browsersupport",function(a,b){j.updateStatus.support(b)});$("#page, #feedback-bar").on("change",function(){j.display()});$("header #status-connection").click(function(a){var b=$(this).attr("title"),c,e;c=c?1E3*c:1E4;$("#feedback-bar p").eq(1).remove();$("#feedback-bar p").html()!==b&&(e=$("<p></p>"),e.text(b),$("#feedback-bar").prepend(e));$("#feedback-bar").trigger("change");
setTimeout(function(){e.remove();$("#feedback-bar").trigger("change")},c);a.stopPropagation()});$(window).resize(function(){$("#container").css("top",$("header").outerHeight());$("body:not(.no-scroll) #container").height($(window).height()-$("header").outerHeight()-$("#form-controls.bottom").outerHeight());var a=$("nav").offset().left,b=$("#logo").offset().left+$("#logo").outerWidth();a<b?$("#logo").css("visibility","hidden"):$("#logo").css("visibility","visible")});"function"===typeof this.m&&this.m();
$("footer").detach().appendTo("#container")};h.prototype.i=function(){$(window).trigger("resize")};h.prototype.e={i:function(){$("article.page").each(function(){var a,b="",c;c=$(this).attr("id");a=$(this).attr("data-display")?$(this).attr("data-display"):c;b=$(this).attr("data-title")?$(this).attr("data-title"):c;c=$(this).attr("data-ext-link")?$(this).attr("data-ext-link"):"#"+c;$('<li class="ui-corner-tl ui-corner-tr"><a href="'+c+'" title="'+b+'" >'+a+"</a></li>").appendTo($("nav ul"))})},reset:d()};
function i(a){a.d=function(){this.b=$("<pages></pages>");$("article.page").detach().appendTo(this.b)};a.get=function(a){a=this.b.find('article[id="'+a+'"]');return 1===a.length?a:null};a.f=function(){return 0<$("#page article.page").length};a.open=function(a){var c=this.get(a);if(1!==c.length)return console.error("page not found");this.f()&&this.close();c.find(".scrollbar").j();$("#page-content").prepend(this.get(a).show()).trigger("change");$("#overlay").show();setTimeout(function(){$("#overlay, header").bind("click.pageEvents",
function(){$("#page-close").trigger("click")})},50);$(window).bind("resize.pageEvents",function(){$("#page").trigger("change")})};a.close=function(){var a;a=$("#page .page").detach();this.b.append(a);$("#page").trigger("change");this.e.reset();$("#overlay").hide();$("#overlay, header").unbind(".pageEvents");$(window).unbind(".pageEvents")};return a}
h.prototype.updateStatus={k:function(a){console.log("updating online status in menu bar to:");console.log(a);a?$("header #status-connection").removeClass().addClass("ui-icon ui-icon-signal-diag").attr("title","It appears there is currently an Internet connection available."):$("header #status-connection").removeClass().addClass("ui-icon ui-icon-cancel").attr("title","It appears there is currently no Internet connection")},l:function(a){a?$("header #status-editing").removeClass().addClass("ui-icon ui-icon-pencil").attr("title",
"Form is being edited."):$("header #status-editing").removeClass().attr("title","")},support:function(a){console.debug('"this" in updateStatus.supported:');console.debug(this);var b=i(g).get("settings");console.debug("updating browser support for "+a);b.find("#settings-browserSupport-"+a+" span.ui-icon").addClass("ui-icon-check")}};
h.prototype.display=function(){var a,b;b=$("header");var c=$("#feedback-bar"),e=$("#page");0<c.find("p").length?(a=b.outerHeight(),b=i(this).f()?b.outerHeight()+c.outerHeight():b.outerHeight()+c.outerHeight()-e.outerHeight()):(a=b.outerHeight()-c.outerHeight(),b=i(this).f()?b.outerHeight():b.outerHeight()-e.outerHeight());c.css("top",a);e.css("top",b)};var k=jQuery;k.fn.p=function(){var a=0;return this.each(function(){k(this).width()>a&&(a=k(this).width())}).each(function(){k(this).width(a)})};
k.fn.reverse=[].reverse;
k.fn.g=function(a){a=k.extend({h:"!@#$%^&*()+=[]\\';,/{}|\":<>?~`.- ",a:"",c:""},a);this.each(function(){a.q&&(a.a+="ABCDEFGHIJKLMNOPQRSTUVWXYZ");a.n&&(a.a+="abcdefghijklmnopqrstuvwxyz");for(var b=a.c.split(""),c=0;c<b.length;c++)-1!=a.h.indexOf(b[c])&&(b[c]="\\"+b[c]);a.c=b.join("|");var e=a.h+a.a,e=e.replace(RegExp(a.c,"gi"),"");k(this).keypress(function(a){var b;b=a.charCode?String.fromCharCode(a.charCode):String.fromCharCode(a.which);e.indexOf(b)!=-1&&a.preventDefault();a.ctrlKey&&b=="v"&&a.preventDefault()});
k(this).bind("contextmenu",function(){return false})})};k.fn.r=function(a){var b="abcdefghijklmnopqrstuvwxyz",b=b+b.toUpperCase(),a=k.extend({a:b},a);return this.each(function(){k(this).g(a)})};k.fn.alpha=function(a){a=k.extend({a:"1234567890"},a);return this.each(function(){k(this).g(a)})};
k.fn.o=function(a){a||(a=1);var b=this.contents().filter(function(){return 3==this.nodeType}).first(),c=b.text(),a=c.split(" ",a).join(" ");b.length&&(b[0].nodeValue=c.slice(a.length),b.before('<span class="capitalize">'+a+"</span>"))};
k.fn.j=function(){this.each(function(){var a=k(this),b=k(this).find("ol");a.css("overflow","hidden");var c=b.height()-a.height();if(0<c){var e=c/b.height(),e=Math.round((1-e)*a.height()),e=e-e%2;k("#records .column.middle").html('<div id="slider-wrap" class="ui-corner-all"><div id="slider-vertical"></div></div>');k("#slider-wrap").height(a.outerHeight());k("#slider-vertical").slider({orientation:"vertical",s:"max",min:0,max:100,value:100,t:function(a,e){b.css({top:-((100-e.value)*c/100)})}});k("#slider-wrap").css("margin-top",
k("#records-saved h3").outerHeight(!0));k(".ui-slider-handle").css({height:e,"margin-bottom":-0.5*e});a=k("#slider-vertical").height();e=a-e;a=0.5*(a-e);k(".ui-slider").css({height:e,"margin-top":a});k(".ui-slider-range").css({top:-a});k("#slider-wrap").click(function(){k("#slider-vertical").slider("value",0);b.css({top:-c})});k("#records-saved-pane,#slider-wrap").mousewheel(function(a,e){var f=k("#slider-vertical").slider("value"),f=f+5*e;k("#slider-vertical").slider("value",f);f=-((100-f)*c/100);
0<f&&(f=0);Math.abs(f)>c&&(f=-1*c);b.css({top:f});a.preventDefault()})}})};