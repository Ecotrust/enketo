<!DOCTYPE HTML>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>Jasmine Spec Runner</title>

  <link rel="stylesheet" type="text/css" href="lib/jasmine-1.3.1/jasmine.css">
  <style>
    .datepicker, .bootstrap-timepicker{display: none;}
  </style>
  <script type="text/javascript" src="lib/jasmine-1.3.1/jasmine.js"></script>
  <script type="text/javascript" src="lib/jasmine-1.3.1/jasmine-html.js"></script>

  <script type="text/javascript" src="../lib/require.js"></script>
  
  <script type="text/javascript">
    requirejs.config({
      baseUrl: '../lib/',
      paths: {
        js: '../src/js',
        widget: '../src/widget',
        text: 'text/text',
        xpath: 'xpath/build/xpathjs_javarosa',
        config: '../config.json',
        spec:  '../test/spec/',
        util:  '../test/util/',
        mock:  '../test/mock/'
      },
      shim: {
        'xpath': {
          exports: 'XPathJS'
        },
        'bootstrap': {
          deps: [ 'jquery' ],
          exports: 'jQuery.fn.bootstrap'
        },
        'widget/date/bootstrap-datepicker/js/bootstrap-datepicker': {
          deps: [ 'jquery' ],
          exports: 'jQuery.fn.datepicker'
        },
        'widget/time/bootstrap-timepicker/js/bootstrap-timepicker': {
          deps: [ 'jquery' ],
          exports: 'jQuery.fn.timepicker'
        }
      }
    });

    requirejs([
      'mock/form.mock', 'mock/transforms.mock', 'mock/modernizr.mock', 'mock/gmaps.mock', 'mock/file-manager.mock',
      'spec/form.spec', 'spec/formmodel.spec'
    ], function() {
    
      var jasmineEnv = jasmine.getEnv();
      jasmineEnv.updateInterval = 1000;

      var htmlReporter = new jasmine.HtmlReporter();

      jasmineEnv.addReporter(htmlReporter);

      jasmineEnv.specFilter = function(spec) {
        return htmlReporter.specFilter(spec);
      };

      jasmineEnv.execute();
    });
  </script>
</head>

<body>
</body>
</html>
