var d;$(document).ready(function(){d=new g;d.d();"undefined"==typeof console&&(console={log:function(){}});"undefined"==typeof window.console.debug&&(console.debug=console.log);var a;a:{a=window.location.search.substring(1).split("&");for(var b=0;b<a.length;b++){var c=a[b].split("=");if("debug"==c[0]){a=encodeURI(c[1]);break a}}a=!1}"true"!==a&&(window.console.log=function(){},window.console.debug=function(){})});function g(){}
g.prototype.d=function(){this.h.i();h(this).d();var a=this;$("#feedback-bar-close").button({icons:{primary:"ui-icon-closethick"},text:!1}).click(function(a){a.preventDefault();$("#feedback-bar p").remove();$("#feedback-bar").trigger("change")});$("#page-close").button({icons:{primary:"ui-icon-closethick"},text:!1}).click(function(b){b.preventDefault();h(a).close()});$("#feedback-bar-close, #page-close").removeClass().addClass("custom-button ui-widget-header ui-corner-all");$('a[href^="#"]:not(nav ul li a)').click(function(a){var c=
$(this).attr("href");"#"!==c&&(a.preventDefault(),$('nav li a[href="'+c+'"]').click())});$('nav ul li a[href^="#"]').click(function(b){b.preventDefault();b=$(this).attr("href").substr(1);h(a).open(b);$(this).closest("li").addClass("nav-state-active")});$(window).on("onlinestatuschange",function(b,c){a.updateStatus.k(c)});$(document).on("edit","form.jr",function(){a.updateStatus.l(!0)});$(document).on("browsersupport",function(b,c){a.updateStatus.support(c)});$("#page, #feedback-bar").on("change",
function(){a.display()});$("header #status-connection").click(function(a){var c=$(this).attr("title"),e,i;e=e?1E3*e:1E4;$("#feedback-bar p").eq(1).remove();$("#feedback-bar p").html()!==c&&(i=$("<p></p>"),i.text(c),$("#feedback-bar").prepend(i));$("#feedback-bar").trigger("change");setTimeout(function(){i.remove();$("#feedback-bar").trigger("change")},e);a.stopPropagation()});$(window).resize(function(){$("#container").css("top",$("header").outerHeight());$("body:not(.no-scroll) #container").height($(window).height()-
$("header").outerHeight()-$("#form-controls.bottom").outerHeight());var a=$("nav").offset().left,c=$("#logo").offset().left+$("#logo").outerWidth();a<c?$("#logo").css("visibility","hidden"):$("#logo").css("visibility","visible")});"function"===typeof this.n&&this.n();$("#form-controls button").m();Modernizr.borderradius&&(Modernizr.boxshadow&&Modernizr.csstransitions&&Modernizr.opacity)&&$(document).trigger("browsersupport","fancy-visuals");$("footer").detach().appendTo("#container")};
g.prototype.i=function(){$(window).trigger("resize")};g.prototype.h={i:function(){$("article.page").each(function(){var a,b="",c;c=$(this).attr("id");a=$(this).attr("data-display")?$(this).attr("data-display"):c;b=$(this).attr("data-title")?$(this).attr("data-title"):c;c=$(this).attr("data-ext-link")?$(this).attr("data-ext-link"):"#"+c;$('<li class="ui-corner-tl ui-corner-tr"><a href="'+c+'" title="'+b+'" >'+a+"</a></li>").appendTo($("nav ul"))})},reset:function(){$("nav ul li").removeClass("nav-state-active")}};
function h(a){a.d=function(){this.b=$("<pages></pages>");$("article.page").detach().appendTo(this.b)};a.get=function(a){return this.b.find('article[id="'+a+'"]')};a.e=function(){return 0<$("#page article.page").length};a.open=function(a){var c=this.get(a);if(1!==c.length)return console.error("page not found");this.e()&&this.close();c.find(".scrollbar").j();$("#page-content").prepend(this.get(a).show()).trigger("change");$("#overlay").show();setTimeout(function(){$("#overlay, header").bind("click.pageEvents",
function(){$("#page-close").trigger("click")})},50);$(window).bind("resize.pageEvents",function(){$("#page").trigger("change")})};a.close=function(){var a;a=$("#page .page").detach();this.b.append(a);$("#page").trigger("change");this.h.reset();$("#overlay").hide();$("#overlay, header").unbind(".pageEvents");$(window).unbind(".pageEvents")};return a}
g.prototype.updateStatus={k:function(a){console.log("updating online status in menu bar to:");console.log(a);a?$("header #status-connection").removeClass().addClass("ui-icon ui-icon-signal-diag").attr("title","It appears there is currently an Internet connection available."):$("header #status-connection").removeClass().addClass("ui-icon ui-icon-cancel").attr("title","It appears there is currently no Internet connection")},l:function(a){a?$("header #status-editing").removeClass().addClass("ui-icon ui-icon-pencil").attr("title",
"Form is being edited."):$("header #status-editing").removeClass().attr("title","")},support:function(a){var b=h(d).get("settings");0<b.length&&(console.debug("updating browser support for "+a),b.find("#settings-browserSupport-"+a+" span.ui-icon").addClass("ui-icon-check"))}};
g.prototype.display=function(){var a,b;b=$("header");var c=$("#feedback-bar"),e=$("#page");0<c.find("p").length?(a=b.outerHeight(),b=h(this).e()?b.outerHeight()+c.outerHeight():b.outerHeight()+c.outerHeight()-e.outerHeight()):(a=b.outerHeight()-c.outerHeight(),b=h(this).e()?b.outerHeight():b.outerHeight()-e.outerHeight());c.css("top",a);e.css("top",b)};var j=jQuery;j.fn.m=function(){var a=0;this.each(function(){j(this).width()>a&&(a=j(this).width())}).each(function(){j(this).width(a)})};
j.fn.reverse=[].reverse;
j.fn.f=function(a){a=j.extend({g:"!@#$%^&*()+=[]\\';,/{}|\":<>?~`.- ",a:"",c:""},a);this.each(function(){a.q&&(a.a+="ABCDEFGHIJKLMNOPQRSTUVWXYZ");a.o&&(a.a+="abcdefghijklmnopqrstuvwxyz");for(var b=a.c.split(""),c=0;c<b.length;c++)-1!=a.g.indexOf(b[c])&&(b[c]="\\"+b[c]);a.c=b.join("|");var e=a.g+a.a,e=e.replace(RegExp(a.c,"gi"),"");j(this).keypress(function(a){var b;b=a.charCode?String.fromCharCode(a.charCode):String.fromCharCode(a.which);e.indexOf(b)!=-1&&a.preventDefault();a.ctrlKey&&b=="v"&&a.preventDefault()});
j(this).bind("contextmenu",function(){return false})})};j.fn.r=function(a){var b="abcdefghijklmnopqrstuvwxyz",b=b+b.toUpperCase(),a=j.extend({a:b},a);return this.each(function(){j(this).f(a)})};j.fn.alpha=function(a){a=j.extend({a:"1234567890"},a);return this.each(function(){j(this).f(a)})};
j.fn.p=function(a){a||(a=1);var b=this.contents().filter(function(){return 3==this.nodeType}).first(),c=b.text(),a=c.split(" ",a).join(" ");b.length&&(b[0].nodeValue=c.slice(a.length),b.before('<span class="capitalize">'+a+"</span>"))};
j.fn.j=function(){this.each(function(){var a=j(this),b=j(this).find("ol");a.css("overflow","hidden");var c=b.height()-a.height();if(0<c){var e=c/b.height(),e=Math.round((1-e)*a.height()),e=e-e%2;j("#records .column.middle").html('<div id="slider-wrap" class="ui-corner-all"><div id="slider-vertical"></div></div>');j("#slider-wrap").height(a.outerHeight());j("#slider-vertical").slider({orientation:"vertical",s:"max",min:0,max:100,value:100,t:function(a,e){b.css({top:-((100-e.value)*c/100)})}});j("#slider-wrap").css("margin-top",
j("#records-saved h3").outerHeight(!0));j(".ui-slider-handle").css({height:e,"margin-bottom":-0.5*e});a=j("#slider-vertical").height();e=a-e;a=0.5*(a-e);j(".ui-slider").css({height:e,"margin-top":a});j(".ui-slider-range").css({top:-a});j("#slider-wrap").click(function(){j("#slider-vertical").slider("value",0);b.css({top:-c})});j("#records-saved-pane,#slider-wrap").mousewheel(function(a,e){var f=j("#slider-vertical").slider("value"),f=f+5*e;j("#slider-vertical").slider("value",f);f=-((100-f)*c/100);
0<f&&(f=0);Math.abs(f)>c&&(f=-1*c);b.css({top:f});a.preventDefault()})}})};